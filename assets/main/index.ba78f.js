window.__require=function e(t,o,n){function i(c,r){if(!o[c]){if(!t[c]){var s=c.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!r&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var d=o[c]={exports:{}};t[c][0].call(d.exports,function(e){return i(t[c][1][e]||e)},d,d.exports,e,t,o,n)}return o[c].exports}for(var a="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({AnimalBrick:[function(e,t,o){"use strict";cc._RF.push(t,"24adeaFwa9DO4FtPpZWeyCF","AnimalBrick"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./FaynUtils"),i=e("./GlobalDefine"),a=cc._decorator,c=a.ccclass,r=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.img_view=null,t.hitCount=null,t._hitCount=0,t.canAutoDropdown=!1,t}return __extends(t,e),t.prototype.init=function(e){if(this.hitCount&&(this._hitCount=e,this.hitCount.string=this._hitCount.toString()),this.hitCount.node.parent.opacity=0,this.img_view){var t=this.img_view.getComponent(cc.Sprite),o=this.myrandom(0,7);cc.loader.loadRes("animals/animal"+(o+1),cc.SpriteFrame,function(e,o){e?cc.error(e.message||e):t.spriteFrame=o})}},t.prototype.onHit=function(){var e=this;this._hitCount--,this.hitCount.string=this._hitCount.toString(),this.node.stopAllActions(),this.node.scale=1,this.hitCount.node.parent.opacity=255,this.scheduleOnce(function(){e.hitCount.node.parent.opacity=0},.4),this._hitCount<=0?(this.node.scale=1,this.hitCount.string=this._hitCount.toString(),this.canAutoDropdown=!0,this.node.scale/=2,this.node.group="item",this.node.getComponent(cc.Sprite).enabled=!1,this.hitCount.node.parent.active=!1,this.node.getComponent(cc.PhysicsBoxCollider).enable=!1):cc.tween(this.node).by(.1,{scale:.2}).by(.1,{scale:-.2}).by(.1,{scale:.2}).by(.1,{scale:-.2}).start()},t.prototype.onCollisionEnter=function(e,t){"paddle"==e.node.name&&(n.default.PlayMusic("eatitem"),this.showAddScoreImgAndAddGameScore(e.node),t.node.destroy()),"bootom"==e.node.name&&this.node.destroy()},t.prototype.showAddScoreImgAndAddGameScore=function(e){var t=this,o=new cc.Node("+5");o.addComponent(cc.Sprite);var n=o.getComponent(cc.Sprite);cc.loader.loadRes("plus5",cc.SpriteFrame,function(e,t){e?cc.error(e.message||e):n.spriteFrame=t}),o.parent=cc.find("Canvas/ItemContain"),o.setSiblingIndex(8);var a=e.parent.convertToWorldSpaceAR(e.position),c=cc.find("Canvas").convertToNodeSpaceAR(a);o.setPosition(c.add(new cc.Vec3(0,50,0))),o.scale=0,cc.tween(o).by(.3,{scale:1},{ease:"outElastic"}).call(function(){i.default.score+=5,cc.find("Canvas").getComponent("GameManager").gameScoreLabel.string=i.default.score.toString(),t.scheduleOnce(function(){o.destroy()},.5)}).start()},t.prototype.update=function(e){!0===this.canAutoDropdown&&0==i.default.gameover&&(this.node.y-=2)},t.prototype.myrandom=function(e,t){return Math.floor(Math.random()*(t-e))+e},__decorate([r(cc.Node)],t.prototype,"img_view",void 0),__decorate([r(cc.Label)],t.prototype,"hitCount",void 0),t=__decorate([c],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./FaynUtils":"FaynUtils","./GlobalDefine":"GlobalDefine"}],Ball:[function(e,t,o){"use strict";cc._RF.push(t,"9b280YbFuZJv4QPGPL8e8iv","Ball");var n=e("../FaynUtils").default;e("../GlobalDefine").default,e("./GlobalData");cc.Class({extends:cc.Component,properties:{item_sange:cc.Prefab,item_copyMyself:cc.Prefab,mybrother:cc.Prefab},onLoad:function(){},createMyBrother:function(e){var t=cc.instantiate(this.mybrother),o=cc.instantiate(this.mybrother),n=cc.instantiate(this.mybrother);cc.find("Canvas/PhysicsLayer/paddle").addChild(t),cc.find("Canvas/PhysicsLayer/paddle").addChild(o),cc.find("Canvas/PhysicsLayer/paddle").addChild(n),t.setPosition(e.x,e.y),o.setPosition(e.x,e.y),n.setPosition(e.x,e.y),t.getComponent(cc.RigidBody).linearVelocity=cc.v2(-350,350),o.getComponent(cc.RigidBody).linearVelocity=cc.v2(350,350),n.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-350),this.node.destroy()},init:function(e){this.gameCtl=e},onBeginContact:function(e,t,o){switch(o.tag){case 1:n.PlayMusic("rebound"),o.node.getComponent("Brick")&&o.node.getComponent("Brick").CreateItme(this.item_sange,this.item_copyMyself),o.node.getComponent("AnimalBrick")&&o.node.getComponent("AnimalBrick").onHit();break;case 2:console.log("\u4f60\u6b7b\u4e86");break;case 3:this.changeDir(e),n.PlayMusic("rebound");break;case 4:if(cc.find("WonUI").active||cc.find("loseUI").active)return;this.changeDir(e),n.PlayMusic("rebound");break;case 5:this.node.destroy()}},changeDir:function(e){var t=this.getComponent(cc.RigidBody).linearVelocity.normalize();this.getComponent(cc.RigidBody).linearVelocity=t.mul(350)},myrandom:function(e,t){return Math.floor(Math.random()*(t-e))+e}}),cc._RF.pop()},{"../FaynUtils":"FaynUtils","../GlobalDefine":"GlobalDefine","./GlobalData":void 0}],Block:[function(e,t,o){"use strict";cc._RF.push(t,"c29589F6kFIirkoBAkoSvtI","Block"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./MapEditor"),i=cc._decorator,a=i.ccclass,c=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onHit,this)},t.prototype.init=function(){this.sp=this.node.getComponent(cc.Sprite)},t.prototype.onHit=function(e){var t=this;""!=n.default.curPickBlockColor&&cc.loader.loadRes("blocks/"+n.default.curPickBlockColor,cc.SpriteFrame,function(e,o){e?cc.error(e.message||e):(t.sp.spriteFrame=o,t.node.name=n.default.curPickBlockColor)})},t=__decorate([a],t)}(cc.Component));o.default=c,cc._RF.pop()},{"./MapEditor":"MapEditor"}],BrickLayout:[function(e,t,o){"use strict";cc._RF.push(t,"62398FSMJtHJ55jmSoqf4WF","BrickLayout"),cc.Class({extends:cc.Component,properties:{padding:0,spacing:0,cols:0,brickPrefab:cc.Prefab,bricksNumber:0},init:function(e){}}),cc._RF.pop()},{}],Brick:[function(e,t,o){"use strict";cc._RF.push(t,"96c30oZidtBMJBqOjJY33tq","Brick");e("GlobalData"),e("./GlobalData");var n=e("./GlobalDefine").default;cc.Class({extends:cc.Component,properties:{bloodLabel:cc.Label,animalView:cc.Sprite,_blood:0},init:function(e){this.node.scale=0,this.bloodLabel=this.node.getChildByName("animal1").getChildByName("blood_label").getComponent(cc.Label),this.bloodLabel.string=this._blood.toString();var t=this;0==e?cc.loader.loadRes("blocks/block10",cc.SpriteFrame,function(e,o){e?cc.error(e.message||e):(t.node.getComponent(cc.Sprite).spriteFrame=o,cc.tween(t.node).by(.5,{scale:1}).start(),t.node.getComponent(cc.PhysicsBoxCollider).tag=0)}):cc.loader.loadRes("blocks/block"+e,cc.SpriteFrame,function(e,o){e?cc.error(e.message||e):t.node&&(t.node.getComponent(cc.Sprite).spriteFrame=o,cc.tween(t.node).by(.5,{scale:1}).start())})},CreateItme:function(e,t){if(n.dieBrickCounts>0&&n.dieBrickCounts%5==0){n.dieBrickCounts++;var o=this.myrandom(0,100);if(o>60)if(this.myrandom(0,100)<=50){var i=cc.instantiate(e);i.parent=cc.find("Canvas/ItemContain"),i.setSiblingIndex(8),i.setPosition(this.node.position)}else{var a=cc.instantiate(t);a.parent=cc.find("Canvas/ItemContain"),a.setSiblingIndex(8),a.setPosition(this.node.position)}else if(o<30){if(this.myrandom(0,100)>20){var c=cc.instantiate(e);c.parent=cc.find("Canvas/ItemContain"),c.setSiblingIndex(8),c.setPosition(this.node.position)}}this.node.destroy()}else n.dieBrickCounts++,this.node.getComponent(cc.PhysicsBoxCollider).enable=!1,n.score++,cc.find("Canvas").getComponent("GameManager").gameScoreLabel.string=n.score.toString(),this.node.destroy()},myrandom:function(e,t){return Math.floor(Math.random()*(t-e))+e}}),cc._RF.pop()},{"./GlobalData":"GlobalData","./GlobalDefine":"GlobalDefine",GlobalData:"GlobalData"}],FaynUtils:[function(e,t,o){"use strict";cc._RF.push(t,"4f925GzsNND4YVHvmNerNCb","FaynUtils"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.SendEvent=function(e){try{window.playableSDK.sendEvent(e),console.log(e)}catch(t){-1!=t.message.indexOf("undefined")?console.log("SDK\u672a\u63a5\u5165 \u53d1\u9001\u5931\u8d25 "+e):console.log(t.message)}},t.SendEnterEvent=function(e,t){try{window.playableSDK.sendEvent(e,{section:t.section,section_remark:t.section_remark}),console.log(e+"_"+t.section+"_"+t.section_remark)}catch(e){-1!=e.message.indexOf("undefined")?console.log("SDK\u672a\u63a5\u5165 \u53d1\u9001\u5931\u8d25 "+t.section_remark):console.log(e.message)}},t.SendClickEvent=function(e,t){try{window.playableSDK.sendEvent(e,{section:t.section,area:t.area,area_remark:t.area_remark}),console.log(e+"_"+t.section+"_"+t.area+"_"+t.area_remark)}catch(e){-1!=e.message.indexOf("undefined")?console.log("SDK\u672a\u63a5\u5165 \u53d1\u9001\u5931\u8d25 "+t.area_remark):console.log(e.message)}},t.PlayableDownload=function(){try{window.playableSDK.openAppStore(),console.log("playableSDK download")}catch(e){console.log("playableSDK download error")}},t.PlayMusic=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=1),c.Play(e,t,o)},t.PauseMusic=function(e){c.Pause(e)},t.ResumeMusic=function(e){c.Resume(e)},t}(cc.Component);o.default=n;var i=cc._decorator,a=i.ccclass,c=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return __extends(t,e),o=t,t.Preload=function(e){o.audios=new Array,cc.resources.preloadDir(e,cc.AudioClip),this.path=e},t.Play=function(e,t,n){var i,a;return void 0===t&&(t=!1),void 0===n&&(n=1),void 0==o.audios&&(o.audios=new Array,cc.resources.preloadDir("audios",cc.AudioClip)),cc.resources.load(""!=this.path?this.path+"/"+e:"audios/"+e,cc.AudioClip,function(e,c){i=cc.audioEngine.play(c,t,n),a=new r(i,c),o.audios.push(a),cc.audioEngine.setFinishCallback(i,function(){o.removeFinishedAudio(i)})}),i},t.Resume=function(e){var t=this.GetIdByName(e);return-1!=t?(cc.audioEngine.resume(t),t):-1},t.Pause=function(e){var t=o.GetIdByName(e);return null!=t?cc.audioEngine.pause(t):null},t.GetState=function(e){var t=o.GetIdByName(e);return null!=t?cc.audioEngine.getState(t):null},t.removeFinishedAudio=function(e){for(var t=0,n=o.audios;t<n.length;t++){var i=n[t];if(i.id===e&&0==cc.audioEngine.isLoop(e)){var a=o.audios.indexOf(i);if(a>-1)return void o.audios.splice(a,1)}}},t.GetIdByName=function(e){for(var t=0,n=o.audios;t<n.length;t++){var i=n[t];if(i.name===e)return i.id}return-1},t.audios=[],t.path="",t=o=__decorate([a],t)}(cc.Component)),r=function(){return function(e,t){this.id=e,this.clip=t,this.name=t.name}}();cc._RF.pop()},{}],GameCtl:[function(e,t,o){"use strict";cc._RF.push(t,"a337308uxxJva7vh8G06q7Z","GameCtl");var n=e("GameModel");cc.Class({extends:cc.Component,properties:{gameView:e("GameView"),ball:e("Ball"),paddle:e("Paddle"),brickLayout:e("BrickLayout"),overPanel:e("OverPanel")},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){e.keyCode===cc.KEY.back&&cc.director.end()}),this.physicsManager=cc.director.getPhysicsManager(),this.gameModel=new n,this.startGame()},init:function(){this.physicsManager.enabled=!0,this.gameModel.init(),this.gameView.init(this),this.ball.init(this),this.paddle.init(),this.brickLayout.init(this.gameModel.bricksNumber),this.overPanel.init(this)},startGame:function(){this.init()},pauseGame:function(){this.physicsManager.enabled=!1},resumeGame:function(){this.physicsManager.enabled=!0},stopGame:function(){this.physicsManager.enabled=!1,this.overPanel.show(this.gameModel.score,0===this.gameModel.bricksNumber)},onBallContactBrick:function(e,t){t.parent=null,this.gameModel.addScore(1),this.gameModel.minusBrick(1),this.gameView.updateScore(this.gameModel.score),this.gameModel.bricksNumber<=0&&this.stopGame()},onBallContactGround:function(e,t){this.stopGame()},onBallContactPaddle:function(e,t){},onBallContactWall:function(e,t){},onDestroy:function(){this.physicsManager.enabled=!1}}),cc._RF.pop()},{Ball:"Ball",BrickLayout:"BrickLayout",GameModel:"GameModel",GameView:"GameView",OverPanel:"OverPanel",Paddle:"Paddle"}],GameManager:[function(e,t,o){"use strict";cc._RF.push(t,"a749drWxahI3aGMhjMxiPWP","GameManager");e("./AnimalBrick").default,e("./FaynUtils").default,e("./GlobalData");var n=e("./GlobalDefine").default;e("./LevelGenerator").default;cc.Class({extends:cc.Component,properties:{wonUI:cc.Node,loseUI:cc.Node,scoreSlider:cc.Sprite,tips:cc.Node,gameScoreLabel:cc.Label,totalBrickCount:0},onLoad:function(){cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0,n.gameover=!1,this.schedule(function(){0==n.gameover&&1==n.gamestart&&1==n.mapLoadFinish&&(this._childs=cc.find("Canvas/PhysicsLayer/paddle").children,this._childsbrick=cc.find("Canvas/AllBreak").children[0],n.ballNums=this._childs.length,n.brickNums=this._childsbrick.children.length,this.totalBrickCount=cc.find("Canvas/AllBreak").children[0].children.length,n.ballNums<=0&&0==n.gameover&&(n.gameover=!0,this.loseUI.active=!0),n.brickNums<=0&&0==n.gameover&&(console.log("\u6210\u529f\u4e86"),n.gameover=!0,this.wonUI.active=!0))},.2)},update:function(e){}}),cc._RF.pop()},{"./AnimalBrick":"AnimalBrick","./FaynUtils":"FaynUtils","./GlobalData":"GlobalData","./GlobalDefine":"GlobalDefine","./LevelGenerator":"LevelGenerator"}],GameModeChoose:[function(e,t,o){"use strict";cc._RF.push(t,"8e765sCAKVLR74RaF9B4XkQ","GameModeChoose"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./GlobalDefine"),i=e("./LevelGenerator"),a=cc._decorator,c=a.ccclass,r=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelmode_node=null,t.timermode_node=null,t.rank_node=null,t.rewards_node=null,t}return __extends(t,e),t.prototype.start=function(){var e=this;this.levelmode_node.on(cc.Node.EventType.TOUCH_START,function(){n.default.game_mode=0,e.node.active=!1,cc.find("Canvas/AllBreak").getComponent(i.default).startGeneratorLevel()},this),this.timermode_node.on(cc.Node.EventType.TOUCH_START,function(){n.default.game_mode=1,e.node.active=!1,cc.find("Canvas/AllBreak").getComponent(i.default).startGeneratorLevel()},this),this.rank_node.on(cc.Node.EventType.TOUCH_START,function(){console.log("\u6392\u884c\u699c")},this),this.rewards_node.on(cc.Node.EventType.TOUCH_START,function(){console.log("\u6211\u7684\u5956\u54c1")},this)},__decorate([r(cc.Node)],t.prototype,"levelmode_node",void 0),__decorate([r(cc.Node)],t.prototype,"timermode_node",void 0),__decorate([r(cc.Node)],t.prototype,"rank_node",void 0),__decorate([r(cc.Node)],t.prototype,"rewards_node",void 0),t=__decorate([c],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./GlobalDefine":"GlobalDefine","./LevelGenerator":"LevelGenerator"}],GameModel:[function(e,t,o){"use strict";cc._RF.push(t,"ac11fh/SXFFzZAzJ57bmcvY","GameModel"),cc.Class({extends:cc.Component,properties:{score:0,bricksNumber:0},init:function(){this.score=0,this.bricksNumber=50},addScore:function(e){this.score+=e},minusBrick:function(e){this.bricksNumber-=e}}),cc._RF.pop()},{}],GameView:[function(e,t,o){"use strict";cc._RF.push(t,"e4735UW3lFPMoW0rK22obsG","GameView"),cc.Class({extends:cc.Component,properties:{scoreLabel:cc.Label},init:function(e){this.gameCtl=e,this.scoreLabel.string="0"},updateScore:function(e){this.scoreLabel.string=e}}),cc._RF.pop()},{}],GlobalData:[function(e,t,o){"use strict";cc._RF.push(t,"19b69H12ftF3q1ciwWyZOar","GlobalData"),t.exports={ballNums:0,brickNums:0,checkChild:!0,gameover:!1,playNum:0,showPoint:!0,dieBrickCounts:0,curLevel:1,allItemList:[],score:0},cc._RF.pop()},{}],GlobalDefine:[function(e,t,o){"use strict";cc._RF.push(t,"63740zz/p9LX5/wWsM1KGWA","GlobalDefine"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=(n.property,function(){function e(){}return e.ballNums=0,e.brickNums=0,e.checkChild=!0,e.gameover=!1,e.gamestart=!1,e.playNum=0,e.showPoint=!0,e.mapLoadFinish=!1,e.dieBrickCounts=0,e.curLevel=1,e.allItemList=[],e.score=0,e.game_mode=0,e=__decorate([i],e)}());o.default=a,cc._RF.pop()},{}],Item_copyself:[function(e,t,o){"use strict";cc._RF.push(t,"b52e04s7JRDWYYdTcvUv8TX","Item_copyself");var n=e("./FaynUtils").default,i=(e("./GlobalData"),e("./GlobalDefine").default);cc.Class({extends:cc.Component,properties:{_checkChild:!0,_childs:null,_childNums:0},onLoad:function(){},start:function(){},update:function(e){0==i.gameover&&(this.node.y-=2)},onCollisionEnter:function(e,t){"paddle"==e.node.name&&0==i.gameover&&(n.PlayMusic("GetProps"),this._childs=cc.find("Canvas/PhysicsLayer/paddle").children,this._childNums=this._childs.length,this.node.active=!1,this.launchLogic()),"bootom"==e.node.name&&this.node.destroy()},launchLogic:function(){for(var e=0;e<this._childNums;e++)this._childs[e].getComponent("Ball").createMyBrother(this._childs[e].position)}}),cc._RF.pop()},{"./FaynUtils":"FaynUtils","./GlobalData":"GlobalData","./GlobalDefine":"GlobalDefine"}],Item_sange:[function(e,t,o){"use strict";cc._RF.push(t,"00ccbt33ltIhJeE7DkLB/cM","Item_sange");var n=e("./FaynUtils").default,i=(e("./GlobalData"),e("./GlobalDefine").default);cc.Class({extends:cc.Component,properties:{ballPre:cc.Prefab},onLoad:function(){},start:function(){},update:function(e){0==i.gameover&&(this.node.y-=2)},onCollisionEnter:function(e,t){if("paddle"==e.node.name&&0==i.gameover){n.PlayMusic("GetProps");var o=cc.instantiate(this.ballPre),a=cc.instantiate(this.ballPre),c=cc.instantiate(this.ballPre);o.parent=cc.find("Canvas/PhysicsLayer/paddle"),a.parent=cc.find("Canvas/PhysicsLayer/paddle"),c.parent=cc.find("Canvas/PhysicsLayer/paddle"),o.position=cc.v2(-60,38),a.position=cc.v2(60,38),c.position=cc.v2(0,38),o.getComponent(cc.RigidBody).linearVelocity=cc.v2(-350,350),a.getComponent(cc.RigidBody).linearVelocity=cc.v2(350,350),c.getComponent(cc.RigidBody).linearVelocity=cc.v2(100,350),t.node.destroy()}"bootom"==e.node.name&&this.node.destroy()}}),cc._RF.pop()},{"./FaynUtils":"FaynUtils","./GlobalData":"GlobalData","./GlobalDefine":"GlobalDefine"}],LevelGenerator:[function(e,t,o){"use strict";cc._RF.push(t,"3536eUp1aFGEoWQQbsOxSW9","LevelGenerator"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./AnimalBrick"),i=e("./GlobalDefine"),a=cc._decorator,c=a.ccclass,r=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bricksArray=[],t.bubblePrefab=null,t.animalPrefab=null,t.white_sprite=null,t.levelData=null,t.level_animalData=null,t.timer_node_label=null,t.timerbar_fg=null,t.CURLEVEL=-1,t.t=-1,t.totalTime=0,t.canEnterTimerMode=!1,t}var o;return __extends(t,e),o=t,t.prototype.startGeneratorLevel=function(){console.log("\u51c6\u5907\u751f\u6210\u5173\u5361"),i.default.gamestart=!0,0==i.default.game_mode&&(cc.find("Canvas/levelNUm_bg/level_num").getComponent(cc.Label).string="\u7b2c "+o.curLevel.toString()+" \u5173",this.debugMode?this.CURLEVEL=o.curLevel:this.CURLEVEL=this.getTruelyLevelNum(o.curLevel),o.curLevel%5==0?(this.canEnterTimerMode=!0,this.t=this.getTimerModeLevelTimerNum(o.curLevel),this.totalTime=this.t):this.canEnterTimerMode=!1,this.initLevel("lv"+this.CURLEVEL.toString())),1==i.default.game_mode&&(cc.find("Canvas/levelNUm_bg").active=!1,this.CURLEVEL=this.myrandom(25,28),this.canEnterTimerMode=!1,cc.find("Canvas/gameScore_Label").x=0,cc.find("Canvas/level_bg").x=0,this.initLevel("lv"+this.CURLEVEL.toString()))},t.prototype.getTimerModeLevelTimerNum=function(e){switch(e){case 5:case 10:return 60;case 15:case 20:case 25:return 90;case 30:case 35:case 40:return 100;case 45:case 50:case 55:case 60:return 120;case 65:case 70:case 75:return 140;case 80:case 85:case 90:case 95:return 150;default:return 180}},t.prototype.getTruelyLevelNum=function(e){return 1==e?1:2==e?2:e>=3&&e<=5?this.myrandom(3,6):e>=6&&e<=10?this.myrandom(6,10):e>=11&&e<=20?this.myrandom(9,12):e>=21&&e<=30?this.myrandom(12,15):e>=31&&e<=40?this.myrandom(15,18):e>=41&&e<=50?this.myrandom(18,22):e>=51&&e<=60?this.myrandom(22,25):e>=61&&e<=70?this.myrandom(25,28):e>=71&&e<=80?this.myrandom(18,22):e>=81&&e<=90?this.myrandom(22,25):e>=91&&e<=99?this.myrandom(25,28):void 0},t.prototype.getAnimalByLevel=function(e){return 1==e?{num:0,hitCount:0}:2==e?{num:1,hitCount:this.myrandom(1,10)}:e>=3&&e<=5?{num:2,hitCount:this.myrandom(5,10)}:e>=6&&e<=10?{num:2,hitCount:this.myrandom(10,15)}:e>=11&&e<=20?{num:3,hitCount:this.myrandom(10,20)}:e>=21&&e<=30?{num:3,hitCount:this.myrandom(15,30)}:e>=31&&e<=40?{num:4,hitCount:this.myrandom(20,40)}:e>=41&&e<=50?{num:4,hitCount:this.myrandom(25,50)}:e>=51&&e<=60?{num:5,hitCount:this.myrandom(30,60)}:e>=61&&e<=70?{num:6,hitCount:this.myrandom(40,60)}:e>=71&&e<=80?{num:7,hitCount:this.myrandom(50,70)}:e>=81&&e<=90?{num:7,hitCount:this.myrandom(60,80)}:e>=91&&e<=99?{num:7,hitCount:this.myrandom(70,99)}:void 0},t.prototype.initLevel=function(e){console.log("\u5173\u5361\u662f"+e);var t=new cc.Node("lv"+this.CURLEVEL.toString());this.node.addChild(t),t.setPosition(0,0);for(var a=this.levelData.json[e],c=new Array,r=new Array,s=0;s<a.length;s++){var l=a[s];c[s]=new Array,r[s]=new Array;for(var d=0;d<l.length;d++){c[s][d]=null;var u=a[s][d];if(-1!==u){0!=u&&(r[s][d]=s+":"+d);var p=cc.instantiate(this.bubblePrefab),h=new cc.Vec2(45*d-290,45*s-400);p.parent=0==u?this.node:t,c[s][d]=p,p.getComponent("Brick")||(p.addComponent("Brick"),p.getComponent("Brick").init(u)),p.position=h}}}i.default.mapLoadFinish=!0;var m,f,v=this.level_animalData.json[e];m=0==i.default.game_mode?this.getAnimalByLevel(o.curLevel):{num:7,hitCount:this.myrandom(70,99)};for(var _=-1,y=0;y<m.num;y++){var g=-1;do{g=this.myrandom(0,v.length)}while(g==_);var b=c[(f=v[g].pos)[0][0]][f[0][1]].position;(p=cc.instantiate(this.animalPrefab)).parent=t,p.position=b.add(new cc.Vec3(22.5,22.5,0)),p.getComponent(n.default).init(m.hitCount),_=g;for(var C=0;C<f.length;C++)c[f[C][0]][f[C][1]].destroy()}},t.prototype.makeRandomArr=function(e,t){if(!(t>e.length)){for(var o=e.slice(0),n=[],i=0;i<t;i++){var a=Math.floor(Math.random()*(o.length-1)),c=o[a];o.splice(a,1),n.push(c)}return n}},t.prototype.myrandom=function(e,t){return Math.floor(Math.random()*(t-e))+e},t.prototype.update=function(){this.t>0&&1==this.canEnterTimerMode?(this.timerbar_fg.node.parent.active=!0,this.t-=cc.director.getDeltaTime(),this.timer_node_label.string=this.t.toFixed(2)+" s",this.timerbar_fg.getComponent(cc.Sprite).fillRange=this.t/this.totalTime,this.t<=0&&(this.timer_node_label.string="00:00",i.default.gameover=!0,cc.find("Canvas").getComponent("GameManager").loseUI.active=!0)):(this.timer_node_label.node.active=!1,this.timerbar_fg.node.parent.active=!1)},t.curLevel=1,__decorate([r({type:cc.Prefab})],t.prototype,"bubblePrefab",void 0),__decorate([r({type:cc.Prefab})],t.prototype,"animalPrefab",void 0),__decorate([r({type:cc.SpriteFrame})],t.prototype,"white_sprite",void 0),__decorate([r(cc.JsonAsset)],t.prototype,"levelData",void 0),__decorate([r(cc.JsonAsset)],t.prototype,"level_animalData",void 0),__decorate([r({type:cc.Label})],t.prototype,"timer_node_label",void 0),__decorate([r({type:cc.Sprite})],t.prototype,"timerbar_fg",void 0),__decorate([r({type:cc.Boolean,default:!1})],t.prototype,"debugMode",void 0),t=o=__decorate([c],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./AnimalBrick":"AnimalBrick","./GlobalDefine":"GlobalDefine"}],MapEditor:[function(e,t,o){"use strict";cc._RF.push(t,"67caaxrMTxKRYd3WOqGzJiK","MapEditor"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./Block"),i=cc._decorator,a=i.ccclass,c=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.exportJsonFile=null,t.importJsonFile=null,t.resetMap=null,t.pick_block=null,t.mapdataJson=null,t.mapName=null,t.mapHeight=14,t.mapWidth=20,t.brickScale=42,t.exportmapdata=[],t}var o;return __extends(t,e),o=t,t.prototype.onLoad=function(){this.exportJsonFile.on(cc.Node.EventType.TOUCH_START,this.exportMapData,this),this.importJsonFile.on(cc.Node.EventType.TOUCH_START,this.importMapData,this),this.resetMap.on(cc.Node.EventType.TOUCH_START,this.resetMapData,this),cc.find("Canvas").on(cc.Node.EventType.MOUSE_MOVE,this.pickBlockMove,this)},t.prototype.resetMapData=function(){cc.director.loadScene("mapEditor")},t.prototype.pickBlockMove=function(e){if(""!=o.curPickBlockColor&&this.pick_block){var t=e.getLocation(),n=cc.find("Canvas").convertToNodeSpaceAR(t);this.pick_block.position=n}},t.prototype.importMapData=function(){if(""!=this.mapName.string&&null!=this.mapName.string){var e=this;cc.loader.loadRes("mapdata/"+this.mapName.string,cc.JsonAsset,function(t,o){t?cc.error(t.message||t):(console.log(o.json[e.mapName.string]),e.updateMap(o.json[e.mapName.string]))})}else console.log("\u8bf7\u8f93\u5165\u5730\u56fe\u540d\u79f0\uff01")},t.prototype.exportMapData=function(){console.log("\u5bfc\u51fa\u5730\u56fe\u6570\u636e");for(var e=0;e<this.mapWidth;e++){this.exportmapdata[e]=new Array;for(var t=0;t<this.mapHeight;t++)this.exportmapdata[e][t]=this.getidFromColor(o.mapData[e][t].name)}var n={lv1:this.exportmapdata},i=JSON.stringify(n);this.saveForBrowser(i,"lv1.json")},t.prototype.saveForBrowser=function(e,t){if(cc.sys.isBrowser){console.log("\u6d4f\u89c8\u5668");var o=new Blob([e],{type:"application/json"}),n=document.createElement("a");n.download=t,n.innerHTML="Download File",null!=window.webkitURL?n.href=window.webkitURL.createObjectURL(o):(n.href=window.URL.createObjectURL(o),n.onclick=destroyClickedElement,n.style.display="none",document.body.appendChild(n)),n.click()}},t.prototype.getidFromColor=function(e){return"block1"==e?1:"block2"==e?2:"block3"==e?3:"block4"==e?4:"block5"==e?5:"block6"==e?6:"block7"==e?7:"block8"==e?0:"block9"==e?-1:"block_animal"==e?999:void 0},t.prototype.start=function(){for(var e=0;e<this.mapWidth;e++){o.mapData[e]=new Array;for(var t=function(t){var a=new cc.Node("block9");a.parent=i.node;var c=a.addComponent(n.default),r=a.addComponent(cc.Sprite);c.init(),cc.loader.loadRes("blocks/block9",cc.SpriteFrame,function(e,t){e?cc.error(e.message||e):r.spriteFrame=t}),o.mapData[e][t]=a,a.position=new cc.Vec2(t*i.brickScale,e*i.brickScale)},i=this,a=0;a<this.mapHeight;a++)t(a)}},t.prototype.updateMap=function(e){for(var t=e,n=function(e){for(var n=t[e],i=function(n){var i=t[e][n];0==i?cc.loader.loadRes("blocks/block8",cc.SpriteFrame,function(t,i){t?cc.error(t.message||t):o.mapData[e][n].getComponent(cc.Sprite).spriteFrame=i}):-1==i?cc.loader.loadRes("blocks/block9",cc.SpriteFrame,function(t,i){t?cc.error(t.message||t):o.mapData[e][n].getComponent(cc.Sprite).spriteFrame=i}):cc.loader.loadRes("blocks/block"+i,cc.SpriteFrame,function(t,i){t?cc.error(t.message||t):o.mapData[e][n].getComponent(cc.Sprite).spriteFrame=i})},a=0;a<n.length;a++)i(a)},i=0;i<t.length;i++)n(i)},t.curPickBlockColor="",t.mapData=[],__decorate([c({type:cc.Node})],t.prototype,"exportJsonFile",void 0),__decorate([c({type:cc.Node})],t.prototype,"importJsonFile",void 0),__decorate([c({type:cc.Node})],t.prototype,"resetMap",void 0),__decorate([c({type:cc.Node})],t.prototype,"pick_block",void 0),__decorate([c(cc.JsonAsset)],t.prototype,"mapdataJson",void 0),__decorate([c({type:cc.EditBox})],t.prototype,"mapName",void 0),t=o=__decorate([a],t)}(cc.Component);o.default=r,cc._RF.pop()},{"./Block":"Block"}],OverPanel:[function(e,t,o){"use strict";cc._RF.push(t,"60425zRIQ5LNIZ6KmZ5p/LN","OverPanel"),cc.Class({extends:cc.Component,properties:{resultLabel:cc.Label,scoreLabel:cc.Label},onLoad:function(){},init:function(e){this.gameCtl=e,this.node.active=!1},show:function(e,t){this.node.active=!0,this.resultLabel.string=t?"YOU WIN!":"YOU LOSE!",this.scoreLabel.string=e+""},onBtnRestart:function(){this.gameCtl.startGame()}}),cc._RF.pop()},{}],PBlock:[function(e,t,o){"use strict";cc._RF.push(t,"009ferep3RIZoz+LDKlNimr","PBlock"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./MapEditor"),i=cc._decorator,a=i.ccclass,c=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.OnClick,this)},t.prototype.OnClick=function(e){this.pickBlock=cc.find("Canvas/mapContain").getComponent(n.default).pick_block;var t=this.pickBlock.getComponent(cc.Sprite),o=e.target.getComponent(cc.Sprite);t.spriteFrame=o.spriteFrame,n.default.curPickBlockColor=e.target.name},t=__decorate([a],t)}(cc.Component));o.default=c,cc._RF.pop()},{"./MapEditor":"MapEditor"}],Paddle:[function(e,t,o){"use strict";cc._RF.push(t,"4dc82c1qO9KbZBsMZGbHlMV","Paddle");e("../FaynUtils").default,e("../GlobalData").gameover,e("../GlobalData");var n=e("../GlobalDefine").default,i=e("../LevelGenerator").default;cc.Class({extends:cc.Component,properties:{graphic_line:cc.Graphics,ballPre:cc.Prefab,_points:[],numOfPoint:0,ball0:cc.Node,worldPos:cc.Node,_startLocation:cc.v2(0,0),pingpangPos:cc.Node,_autoMoveLine:!0,_firstX:0,_firsty:0},results:null,point:null,oldPos:null,endPos:null,_canvas:null,onLoad:function(){var e=this;this._canvas=cc.find("Canvas"),this._startLocation=this.worldPos.position,this.node.parent.on("touchstart",function(t){e.oldPos=e.node.parent.convertToNodeSpaceAR(t.getLocation()),e._firstX=e.oldPos.x,e._firsty=e.oldPos.y,n.showPoint&&(e._autoMoveLine=!1,e.pingpangPos.active=!1)}),this.node.parent.on("touchmove",function(t){if(0==n.gameover){var o=e.node.parent.convertToNodeSpaceAR(t.getLocation());e._firstX,o.x,e._firsty,o.y;if(n.showPoint){e.graphic_line.clear(),e._cur_length=0;var i=e._startLocation,a=t.getLocation();e.drawRayCast(i,a.subSelf(i).normalizeSelf()),e.graphic_line.stroke(),e.graphic_line.fill()}else{if(1==n.gameover)return;e.node.x=o.x,e.node.x<-309&&(e.node.x=-309),e.node.x>309&&(e.node.x=309)}}}),this.node.parent.on("touchend",function(t){if(0!=n.showPoint){e.graphic_line.clear(),e.endPos=e.node.parent.convertToNodeSpaceAR(t.getLocation());var o=e._startLocation,a=t.getLocation();e.drawRayCast(o,a.subSelf(o).normalizeSelf()),e.graphic_line.stroke(),e.graphic_line.fill();var c=e.endPos;e.moveDir=e.node.position.sub(c).normalize();var r=-350;i.curLevel>1&&i.curLevel%5==0&&(r+=10);var s=e.moveDir.mul(r);s.y=1334*s.y/cc.view.getVisibleSize().height,e.ball0.getComponent(cc.RigidBody).linearVelocity=s,e.scheduleOnce(function(){this.graphic_line.clear(),n.showPoint=!1},.5)}}),this.graphic_line.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},cancelTouchMove:function(){this.node.parent.targetOff(this)},onTouchEnd:function(e){this.graphic_line.clear()},drawRayCast:function(e,t){var o=550-this._cur_length;if(!(o<=0)){var n=e.add(t.mul(o));this.results=cc.director.getPhysicsManager().rayCast(e,n,cc.RayCastType.Closest),this.drawAimLine(e,n)}},drawAimLine:function(e,t){var o=this.graphic_line.node.convertToNodeSpaceAR(e);this.graphic_line.moveTo(o.x,o.y);var n=t.sub(e);n.normalizeSelf().mulSelf(20);for(var i=0;i<15;i++)o.addSelf(n),this.graphic_line.circle(o.x,o.y,4)},init:function(){this.node.x=0},convertToDegree:function(e){var t=e.getLocation(),o=t.x-this.node.x,n=t.y-this.node.y,i=Math.atan2(n,o),a=cc.misc.radiansToDegrees(i);return a-=90},update:function(){this._autoMoveLine&&(this.graphic_line.clear(),this._cur_length=0,this.drawRayCast(this._startLocation,this.pingpangPos.position.subSelf(this._startLocation).normalizeSelf()),this.graphic_line.stroke(),this.graphic_line.fill())}}),cc._RF.pop()},{"../FaynUtils":"FaynUtils","../GlobalData":"GlobalData","../GlobalDefine":"GlobalDefine","../LevelGenerator":"LevelGenerator"}],SplahUIMgr:[function(e,t,o){"use strict";cc._RF.push(t,"b4d33qLJc5E9KYsxGDv+3Iw","SplahUIMgr");var n=e("./FaynUtils").default;cc.Class({extends:cc.Component,properties:{clickToPlay:cc.Node},onLoad:function(){this.clickToPlay.on(cc.Node.EventType.TOUCH_START,this.hideSelf,this)},hideSelf:function(){n.SendClickEvent("clickContent",{section:"section1",area:"area4",area_remark:"\u70b9\u5f00\u8bd5\u73a9"}),this.node.active=!1}}),cc._RF.pop()},{"./FaynUtils":"FaynUtils"}],Tests:[function(e,t,o){"use strict";cc._RF.push(t,"ac7bcIGhxhLBKJrJ0U7k0vj","Tests"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return __extends(t,e),t.prototype.start=function(){},__decorate([a(cc.Label)],t.prototype,"label",void 0),__decorate([a],t.prototype,"text",void 0),t=__decorate([i],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],Util:[function(e,t,o){"use strict";cc._RF.push(t,"edb57Scx+JKh5clOStvXF1M","Util"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.randNum=function(e,t){return e+Math.floor((t-e+1)*Math.random())},e.convertRowColToPos=function(e,t){var o=this.BUBBLE_R*(e%2+1)+t*this.BUBBLE_R*2,n=this.SCREEN_H-(this.BUBBLE_R+e*this.BUBBLE_Y);return cc.v2(o,n)},e.convertPosToRowCol=function(e,t){var o=Math.round((this.SCREEN_H-t-this.BUBBLE_R)/this.BUBBLE_Y),n=Math.round((e-this.BUBBLE_R*(o%2+1))/(2*this.BUBBLE_R));return cc.v2(o,n)},e.SCREEN_W=720,e.SCREEN_H=1280,e.BUBBLE_R=40,e.BUBBLE_Y=40*Math.sqrt(3),e}();o.default=n,cc._RF.pop()},{}],WhiteWallSetting:[function(e,t,o){"use strict";cc._RF.push(t,"1e9dcTXAG1As77chk4s5/I1","WhiteWallSetting"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.newBlock=null,t}return __extends(t,e),t.prototype.start=function(){for(var e=0;e<this.node.childrenCount;e++)for(var t=0;t<this.node.children[e].childrenCount;t++)this.node.children[e].children[t].color=cc.Color.WHITE},__decorate([a(cc.SpriteFrame)],t.prototype,"newBlock",void 0),t=__decorate([i],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(e,t,o){"use strict";cc._RF.push(t,"2eff3WOLrhANY9+HkpF220Q","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}],wonUI:[function(e,t,o){"use strict";cc._RF.push(t,"57637pDBpRMlYTqaYq6IaJy","wonUI");var n=e("./FaynUtils").default,i=(e("./GlobalData"),e("./GlobalDefine").default),a=e("./LevelGenerator").default;cc.Class({extends:cc.Component,properties:{star1:cc.Node,star2:cc.Node,star3:cc.Node,restartBtn:cc.Node,downloadBtn:cc.Node,backMenuBtn:cc.Node},onLoad:function(){this.restartBtn.on(cc.Node.EventType.TOUCH_START,this.replay,this),this.backMenuBtn.on(cc.Node.EventType.TOUCH_START,function(){i.ballNums=0,i.score=0,i.checkChild=!0,i.gameover=!1,i.gamestart=!1,i.showPoint=!0,i.mapLoadFinish=!1,cc.director.loadScene("game_jisu")},this),this.downloadBtn&&this.downloadBtn.on(cc.Node.EventType.TOUCH_START,this.nextLevel,this)},replay:function(){i.playNum++,i.ballNums=0,i.score=0,i.checkChild=!0,i.gameover=!1,i.gamestart=!1,i.mapLoadFinish=!1,i.showPoint=!0,cc.director.loadScene("game_jisu",function(){console.log("\u52a0\u8f7d\u573a\u666f\u7ed3\u675f"),cc.find("GameModeChoose_Panel").active=!1,cc.find("Canvas/AllBreak").getComponent(a).startGeneratorLevel()})},nextLevel:function(){0==i.game_mode&&a.curLevel++,i.ballNums=0,i.dieBrickCounts=0,i.score=0,i.checkChild=!0,i.gameover=!1,i.gamestart=!1,i.mapLoadFinish=!1,i.showPoint=!0,cc.director.loadScene("game_jisu",function(){console.log("\u52a0\u8f7d\u573a\u666f\u7ed3\u675f"),cc.find("GameModeChoose_Panel").active=!1,cc.find("Canvas/AllBreak").getComponent(a).startGeneratorLevel()})},onEnable:function(){this._childsbrick=cc.find("Canvas/AllBreak").children[0],i.brickNums=this._childsbrick.length,cc.find("Canvas/PhysicsLayer/paddle").getComponent("Paddle").cancelTouchMove(),cc.find("Canvas/tip").active=!1,1==i.game_mode&&(this.restartBtn.active=!1),"WonUI"==this.node.name&&(n.PlayMusic("success"),this.backMenuBtn.active=!1),"loseUI"==this.node.name&&(n.PlayMusic("fail"),this.backMenuBtn.active=!0),i.brickNums>=300?(this.star1.active=!1,this.star2.active=!1,this.star3.active=!1):i.brickNums>=200?(this.star1.active=!0,this.star2.active=!1,this.star3.active=!1):i.brickNums>=50?(this.star1.active=!0,this.star2.active=!0,this.star3.active=!1):i.brickNums<=0&&(this.star1.active=!0,this.star2.active=!0,this.star3.active=!0)}}),cc._RF.pop()},{"./FaynUtils":"FaynUtils","./GlobalData":"GlobalData","./GlobalDefine":"GlobalDefine","./LevelGenerator":"LevelGenerator"}]},{},["use_v2.0.x_cc.Toggle_event","AnimalBrick","Brick","FaynUtils","GameManager","GameModeChoose","GlobalData","GlobalDefine","Item_copyself","Item_sange","LevelGenerator","Block","MapEditor","PBlock","SplahUIMgr","Tests","Util","WhiteWallSetting","GameCtl","GameModel","Ball","BrickLayout","GameView","OverPanel","Paddle","wonUI"]);